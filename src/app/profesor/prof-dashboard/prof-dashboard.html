<div class="profesor-container">
  <header class="header">
    <div class="header-left">
      <div class="user-info">
        <div class="avatar">
          <span>{{ userName.substring(0, 2).toUpperCase() }}</span>
        </div>
        <div class="user-details">
          <h3>{{ userName }}</h3>
          <p class="user-role">{{ userRole }} • {{ userAccountNumber }}</p>
          <p class="user-career">{{ userMateria }}</p>
        </div>
      </div>
    </div>
    <div class="header-right">
      <app-notifications></app-notifications>
      <button class="logout-btn" (click)="logout()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
      </button>
    </div>
  </header>

  <main class="profesor-content">
    <h1 class="page-title">Inicio</h1>

    @if (loading) {
      <div class="loading-container">
        <div class="spinner"></div>
        <p>Cargando...</p>
      </div>
    } @else {
      <div class="stats-grid">
        @for (stat of stats; track stat.label) {
          <div class="stat-card">
            <div class="stat-icon" [ngClass]="stat.colorClass">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path [attr.d]="getIcon(stat.icon)"></path>
              </svg>
            </div>
            <div class="stat-info">
              <span class="stat-value">{{ stat.value }}</span>
              <span class="stat-label">{{ stat.label }}</span>
            </div>
          </div>
        }
      </div>

      <div class="content-card">
        <h2 class="card-title">Acciones Rápidas</h2>
        <button class="btn-chat" (click)="irAlChat()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
          </svg>
          Abrir Chat con Estudiantes
          @if (notificationCount > 0) {
            <span class="chat-badge">{{ notificationCount }}</span>
          }
        </button>
        
        <ul class="actions-list">
          @for (action of quickActions; track $index) {
            <li>{{ action }}</li>
          }
        </ul>
      </div>

      <div class="content-card">
        <h2 class="card-title">Actividad Reciente</h2>
        <ul class="activity-list">
          @for (item of recentActivity; track $index) {
            <li class="activity-item">
              <span>{{ item.label }}</span>
              <span class="activity-value">{{ item.value }}</span>
            </li>
          }
        </ul>
      </div>
    }
  </main>

  <nav class="bottom-nav">
    @for (item of navigationItems; track item.route) {
      <button 
        class="nav-item"
        [class.active]="item.route === currentRoute"
        (click)="navigateTo(item.route)">
        <div class="nav-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path [attr.d]="getIcon(item.icon)"></path>
          </svg>
          @if (item.badge && item.badge > 0) {
            <span class="nav-badge">{{ item.badge }}</span>
          }
        </div>
        <span class="nav-label">{{ item.label }}</span>
      </button>
    }
  </nav>
</div>
